
<div class="expenses-wrapper">
  <div class="tabs-header">
    <div class="tabs">
       <span
        [class.active]="activeTab === 'all'"
        (click)="switchTab('all')"
      >All Expenses</span>
      <span
        [class.active]="activeTab === 'gst'"
        (click)="switchTab('gst')"
      >GST Claimable Expenses</span> 

    </div>
    <button class="add-btn" (click)="openAddExpenseDialog()">Add Expense</button>
  </div>

<div class="search-bar">
  <input 
    type="text" 
    placeholder="Search expenses..." 
    [(ngModel)]="searchTerm"
    (ngModelChange)="search()"
    class="form-control" />
  <button  class="btn btn-primary">
    <i class="fas fa-search"></i>
  </button>
</div>
  <!-- Add this wrapper -->
  <div class="table-wrapper">
    <table class="table table-striped w-100">
      <thead>
        <tr>
          <th>Date</th>
          <th>Paid to</th>
          <th>₹ Paid Amt</th>
          <th>₹ Bill Amt</th>
          <th>₹ TDS</th>
          <th>Purpose</th>
          <th>Paid By</th>
          <th>Category</th>
          <th>...</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="filteredExpenses.length === 0">
    <td colspan="8" class="empty-row">
      {{ searchTerm ? 'No results found' : 'No data available' }}
    </td>
  </tr>
 
        <tr *ngFor="let expense of filteredExpenses; trackBy: trackById" 
    [id]="'expense-row-' + expense.id"
    class="expense-row">
          <td>{{ expense.date }}</td>
          <td>{{ expense.vendor_Name }}</td>
          <td>{{ expense.amount }}</td>
          <td>{{ expense.bill_Amount }}</td>
          <td>{{ expense.tds }}</td>
          <td>{{ expense.payment_Purpose }}</td>
          <td>{{ expense.added_By }}</td>
          <td><span class="tag-pill">{{ expense.categoryTitle }}</span></td>
       <td class="action-cell">
    <div class="dropdown d-inline-block">
      <button class="btn btn-link p-0 text-muted"
              type="button"
             
              data-bs-toggle="dropdown"
              aria-expanded="false">
               <!-- id="dropdownMenu{{i}}" -->
        ⋮
      </button>

      <ul class="dropdown-menu dropdown-menu-end" >
      <!-- aria-labelledby="dropdownMenu{{i}}"> -->
        <li>
          <!-- <a class="dropdown-item d-flex align-items-center"
             
             (click)="exportPdf()">
            <i class="fas fa-download me-2"></i> Download
          </a>-->
          <a class="dropdown-item d-flex align-items-center" (click)="exportPdf(expense)"> 
                    <i class="fas fa-download me-2"></i> Download PDF
                  </a>
        </li>
        <li>
          <a class="dropdown-item d-flex align-items-center"
             href="javascript:void(0)"
             (click)="edit(expense)">
            <i class="fas fa-edit me-2"></i> Edit
          </a>
        </li>
        <li>
          <a class="dropdown-item d-flex align-items-center text-danger"
             href="javascript:void(0)"
             (click)="delete(expense)">
            <i class="fas fa-trash-alt me-2"></i> Delete
          </a>
        </li>
      </ul>
    </div>
  </td>
        </tr>
      </tbody>
      <!-- <app-add-expenses *ngIf="showAlert"
                             [licenseId]="alertLicenseId!"
                             [title]="alertTitle"
                             (closed)="onAlertClosed()">
          </app-add-expenses> -->
    </table>
  </div>
</div>